---
import NavigationMenuItem from "@components/common/NavigationMenuItem.astro";

type NAV_MANIFEST = { icon: string; text: string; link: string };

const { manifest } = Astro.props;
---

<div
  x-on:click.outside="open = !open"
  x-show="open"
  x-transition:enter="transition ease-out duration-200"
  x-transition:enter-start="opacity-0 translate-y-1"
  x-transition:enter-end="opacity-100 translate-y-0"
  x-transition:leave="transition ease-in duration-150"
  x-transition:leave-start="opacity-100 translate-y-0"
  x-transition:leave-end="opacity-0 translate-y-1"
  class="absolute left-1/2 z-10 mt-5 flex w-full -translate-x-1/2 px-1"
>
  <div
    class="w-screen space-x-3 max-w-md text-spc-light flex-auto overflow-hidden rounded-sm bg-spc-bg-mid text-sm leading-6 shadow-lg ring-1 ring-gray-900/5"
  >
    <div class="p-6">
      <!-- BEGIN Menu Item -->
      {
        manifest.map((m: NAV_MANIFEST) => (
          <NavigationMenuItem icon={m.icon} link={m.link} text={m.text} />
        ))
      }<!-- END Menu Item -->
    </div>
  </div>
</div>
